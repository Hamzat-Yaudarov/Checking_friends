import { Answer } from '../models/Test';

export function startMessage(): string {
  return `ðŸŒŸ ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´Ñ€ÑƒÐ¶Ð±Ñ‹"! ðŸŒŸ

Ð—Ð´ÐµÑÑŒ Ñ‚Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑˆÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ñ‚ÐµÑÑ‚, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ, Ð½Ð°ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ñ‚ÐµÐ±Ñ Ð·Ð½Ð°ÑŽÑ‚ Ñ‚Ð²Ð¾Ð¸ Ð´Ñ€ÑƒÐ·ÑŒÑ Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ ÑƒÐ´Ð¸Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð”ÐžÐ¡Ð¢Ð˜Ð–Ð•ÐÐ˜Ð¯ Ð”Ð Ð£Ð–Ð‘Ð«! ðŸ†

Ð¡Ð¾Ð·Ð´Ð°Ð²Ð°Ð¹ Ñ‚ÐµÑÑ‚Ñ‹ Ñ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°Ð¼Ð¸ Ð¾ ÑÐµÐ±Ðµ, Ð´ÐµÐ»Ð¸ÑÑŒ Ð¸Ð¼Ð¸ Ñ Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸ Ð¸ ÑÐ¼Ð¾Ñ‚Ñ€Ð¸, ÐºÐ°Ðº Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¾Ð½Ð¸ Ñ‚ÐµÐ±Ñ Ð·Ð½Ð°ÑŽÑ‚. Ð§ÐµÐ¼ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð², Ñ‚ÐµÐ¼ Ð»ÑƒÑ‡ÑˆÐµ Ð²Ñ‹ Ð´Ñ€ÑƒÐ·ÑŒÑ! ðŸ’«

ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð½Ð°Ð¶Ð¼Ð¸ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ "âœ¨ Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚ÐµÑï¿½ï¿½ âœ¨" Ð¸ ÑÐ»ÐµÐ´ÑƒÐ¹ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸ÑÐ¼ â¤µï¸`;
}

export function createTestInstructions(): string {
  return `ðŸ“ Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð¿Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸ÑŽ Ñ‚ÐµÑÑ‚Ð°:

1ï¸âƒ£ Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ²Ð¾Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð¾ ÑÐµÐ±Ðµ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: "ÐšÐ°ÐºÐ¾Ð¹ Ð¼Ð¾Ð¹ Ð»ÑŽÐ±Ð¸Ð¼Ñ‹Ð¹ Ñ†Ð²ÐµÑ‚?", "Ð’ ÐºÐ°ÐºÐ¾Ð¼ Ð³Ð¾Ñ€Ð¾Ð´Ðµ Ñ Ñ€Ð¾Ð´Ð¸Ð»ÑÑ?")
2ï¸âƒ£ Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 2 Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð° Ð¾Ñ‚Ð²ÐµÑ‚Ð°
3ï¸âƒ£ ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ° (Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼ 5 Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²)
4ï¸âƒ£ Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚ Ð¸ Ð¿Ð¾Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ñ Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸!

Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð¿Ð¾ Ð¾Ð´Ð½Ð¾Ð¼Ñƒ Ð¸Ð»Ð¸ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÑ€Ð°Ð·Ñƒ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ:
ÐžÑ‚Ð²ÐµÑ‚: Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1
ÐžÑ‚Ð²ÐµÑ‚: Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2
ÐžÑ‚Ð²ÐµÑ‚: Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 3

Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð½Ð°Ñ‡Ð½Ñ‘Ð¼! ðŸš€`;
}

export function firstQuestionPrompt(): string {
  return `â“ Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð¾ ÑÐµÐ±Ðµ:`;
}

export function questionStatusMessage(
  questionNumber: number,
  questionText: string,
  answers: string[]
): string {
  let message = `ðŸ“Œ Ð’Ð¾Ð¿Ñ€Ð¾Ñ ${questionNumber}: ${questionText}\n\n`;
  message += `Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²:\n`;
  
  answers.forEach((answer, index) => {
    message += `${index + 1} - ${answer}\n`;
  });

  if (answers.length < 2) {
    message += `\nâš ï¸ ÐÑƒÐ¶Ð½Ð¾ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 2 Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð° Ð¾Ñ‚Ð²ÐµÑ‚Ð°\n`;
    message += `Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ:\nÐžÑ‚Ð²ÐµÑ‚: Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚ Ð¾Ñ‚Ð²ÐµÑ‚Ð°`;
  } else {
    message += `\nâœ… Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐµÑ‰Ñ‘ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð¸Ð»Ð¸ Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ "Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ"`;
  }

  return message;
}

export function answersPrompt(questionNumber: number, questionText: string): string {
  return `ðŸ“Œ Ð’Ð¾Ð¿Ñ€Ð¾Ñ ${questionNumber}: ${questionText}\n\nâ¬‡ï¸ Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² (Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 2):\n\nÐ¤Ð¾Ñ€Ð¼Ð°Ñ‚:\nÐžÑ‚Ð²ÐµÑ‚: Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1\nÐžÑ‚Ð²ÐµÑ‚: Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2`;
}

export function testSavedMessage(testCount: number): string {
  return `âœ… Ð¢ÐµÑÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½Ñ‘Ð½! ðŸŽ‰\n\nÐ£ Ð²Ð°Ñ ÑƒÐ¶Ðµ ${testCount} Ñ‚ÐµÑÑ‚(Ð¾Ð²). ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ñ‚ÐµÑÑ‚Ð¾Ð¼ Ñ Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸ Ð¸ ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ, ÐºÐ°Ðº Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¾Ð½Ð¸ Ð²Ð°Ñ Ð·Ð½Ð°ÑŽÑ‚!`;
}

export function myTestsMessage(testCount: number): string {
  if (testCount === 0) {
    return `ðŸ“‹ Ð£ Ð²Ð°Ñ Ð½ÐµÑ‚ ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ñ… Ñ‚ÐµÑÑ‚Ð¾Ð²\n\nÐ¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÑÐ²Ð¾Ð¹ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ñ‚ÐµÑÑ‚ Ð¸ Ð¿Ð¾Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ñ Ð´Ñ€ÑƒÐ·ÑŒÑÐ¼Ð¸! âœ¨`;
  }
  return `ðŸ“‹ Ð’Ð°ÑˆÐ¸ Ñ‚ÐµÑÑ‚Ñ‹ (Ð²ÑÐµÐ³Ð¾: ${testCount})`;
}

export function errorMessage(error: string): string {
  return `âŒ ÐžÑˆÐ¸Ð±ÐºÐ°: ${error}`;
}

export function formatAnswersFromText(text: string): string[] {
  const lines = text.split('\n').map(line => line.trim()).filter(line => line);
  const answers: string[] = [];

  for (const line of lines) {
    if (line.toLowerCase().startsWith('Ð¾Ñ‚Ð²ÐµÑ‚:')) {
      const answer = line.substring(6).trim();
      if (answer) {
        answers.push(answer);
      }
    }
  }

  return answers;
}
